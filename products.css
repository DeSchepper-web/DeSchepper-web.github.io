.product-page .sr-only{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px;
  overflow:hidden; white-space:nowrap;
}

/* ---- Layout grid with areas ---- */
.product-page .grid{
  --g: 2rem;
  --side: clamp(240px, 20vw, 320px);
  --hero-min: 520px;
  --hero-max: 550px;

  display:grid;
  grid-template-columns: var(--side) minmax(var(--hero-min), 1fr) var(--side);
  column-gap: var(--g);
  row-gap: 2rem;

  /* total width = 2*side + hero cap + gaps */
  max-width: calc(var(--side) * 2 + var(--hero-max) + var(--g) * 2);
  margin: calc(var(--nav-h,64px) + 1.5rem) auto 2.5rem;
  padding: 0 1rem;

  grid-template-areas:
    "header header header"
    "left   hero   buybox"
    "bottom bottom bottom";
  align-items:start;
}

/* keep side content aligned with side columns */
.product-page .left-col{ grid-area:left; align-self:start; min-width:0; }
.product-page .buybox{ grid-area:buybox; min-width:0; }
.product-page .left-col .card,
.product-page .buybox{
  width:100%;
  max-width: var(--side);
  margin:0;
  justify-self:center;
}

/* hero sizing â€” cap to viewport too */
.product-page .hero{ grid-area:hero; }
.product-page .hero-frame{
  max-width: min(var(--hero-max), 56vw);
  margin: 0 auto;
}

/* header + bottom areas */
.product-page .center-col{ display:contents; }
.product-page .product-header{ grid-area:header; text-align:center; margin-bottom:.75rem; }
.product-page #reviews-bottom{ grid-area:bottom; }

/* --- tighten things between 1200px and 1025px --- */
@media (max-width:1200px){
  .product-page .grid{
    --g: 1.5rem;
    --side: clamp(210px, 18vw, 300px);
    --hero-max: 600px;
  }
  .product-page .hero-frame{ max-width: min(var(--hero-max), 60vw); }
  .product-page .hero-nav{ width:38px; height:38px; }
}
@media (max-width:1100px){
  .product-page .grid{
    --g: 1.25rem;
    --side: clamp(190px, 17vw, 280px);
    --hero-max: 500px;
  }
  .product-page .hero-frame{ max-width: min(var(--hero-max), 62vw); }
}

/* --- stacked layout on tablets/phones --- */
@media (max-width:1024px){
  .product-page .grid{
    grid-template-columns:1fr;
    column-gap:0;
    row-gap:1.25rem;
    max-width:none;
    grid-template-areas:
      "header"
      "hero"
      "buybox"
      "left"
      "bottom";
  }
  .product-page .left-col .card,
  .product-page .buybox{ max-width:100%; }
  .product-page .hero-frame{ max-width:100%; }
}

/* ---- Side cards (details) ---- */
.product-page .card{
  background:#fff;
  border:1px solid #ccc;
  border-radius:8px;
  padding:1rem;
}
.product-page .bullets{ list-style:disc; padding-left:1.2rem; }
.product-page .bullets li{ margin:.5rem 0; }

/* ---- Header polish ---- */
.product-page .product-title{ font-size:2.4rem; line-height:1.15; }
.product-page .subtitle{ color:#666; }
.product-page .title-rule{
  border:0; border-top:3px solid var(--theme-a);
  width:72px; margin:.55rem auto 0; border-radius:3px;
}

/* ==========================
   GALLERY
========================== */
.product-page .hero{
  position:relative;
  margin:0 0 1rem;
  line-height:0;
  min-width:0;
  display:block !important;
  overflow:visible !important;
  border-radius:0;
  background:transparent !important;
  align-self:start !important;
  padding-top:0 !important;
  min-height:0 !important;
}
.product-page .hero::before{ content:none !important; pointer-events:none !important; }
.product-page .hero-frame{
  position:relative;
  aspect-ratio:1/1;
  width:100%;
  overflow:hidden;
  border-radius:12px;
  transform:translateZ(0);
  box-shadow:0 12px 28px rgba(0,0,0,.10);
  background:transparent;
}
.product-page #hero-img{
  position:absolute; inset:-0.5px; /* 1px bleed to avoid seams */
  width:calc(100% + 1px); height:calc(100% + 1px);
  object-fit:cover; display:block; border:0; background:transparent;
  pointer-events:auto;
}

/* Arrows */
.product-page .hero-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  width:42px; height:42px; border:0; border-radius:999px;
  display:grid; place-items:center;
  background:rgba(0,0,0,.55); color:#fff; cursor:pointer;
  box-shadow:0 8px 18px rgba(0,0,0,.28);
  transition:background .2s, transform .08s;
  z-index:5;
  pointer-events:auto;
}
.product-page .hero-nav:hover{ background:rgba(0,0,0,.75); }
.product-page .hero-nav:active{ transform:translateY(-50%) scale(.98); }
.product-page .hero-nav.prev{ left:.65rem; }
.product-page .hero-nav.next{ right:.65rem; }
.product-page .hero-nav svg{ width:22px; height:22px; fill:currentColor; }
.product-page .hero-nav *{ pointer-events:none; }

@media (max-width:768px){
  .product-page .hero-nav{ width:48px; height:48px; }
}

/* Dots (below image) */
.product-page .hero-dots{
  position:static !important;
  display:flex; justify-content:center; align-items:center;
  gap:.5rem; margin-top:.6rem; padding:0; line-height:1;
}
.product-page .hero-dots button{
  width:12px; height:12px; border-radius:50%; border:0;
  background:#cfcfcf; cursor:pointer;
  transition:background .2s ease, transform .2s ease;
  appearance:none; -webkit-appearance:none;
}
.product-page .hero-dots button:hover{ background:#999; }
.product-page .hero-dots button[aria-selected="true"]{
  background:var(--theme-a); transform:scale(1.25);
}
.product-page .hero-dots button:focus-visible{
  outline:2px solid var(--theme-a); outline-offset:2px;
}
@media (pointer:coarse){
  .product-page .hero-dots button{ width:16px; height:16px; }
}

/* ==========================
   BUYBOX (flat + consistent)
========================== */
.product-page .buybox{
  display:grid;
  grid-template-columns:1fr 1fr;
  grid-template-areas:
    "price cta"
    "variant qty";
  gap:.85rem;
  align-items:center; justify-items:stretch; text-align:left;
  background:#fff; border:1px solid #ccc; border-radius:8px;
  padding:1rem; box-shadow:none;
  max-width:820px; margin:0 auto 2.25rem;
  align-self:start;
}

/* Areas */
.product-page .price-wrap{ grid-area:price; justify-self:center; text-align:center; width:100%; }
.product-page .buy-actions{ grid-area:cta; margin:0; display:flex; justify-content:stretch; }
.product-page .variant-wrap{ grid-area:variant; }
.product-page .qty-control{ grid-area:qty; }

/* Text bits */
.product-page .buybox .price{
  font-family:'Reckless Neue', serif !important;
  font-size:1.5rem; font-weight:700; color:var(--theme-b); line-height:1.2;
}
.product-page .buybox .meta{ color:#666; font-size:.95rem; }

/* Controls (select/input) */
.product-page .select,
.product-page .input{
  padding:.65rem .9rem;
  border:1px solid #ccc; border-radius:6px;
  font:inherit; height:44px; color:#000; background:#fff;
}
.product-page .variant-wrap .select,
.product-page .buy-actions .cta{ width:100%; }

/* Orange highlight ONLY on select */
.product-page .select:hover,
.product-page .select:focus{
  border-color:var(--theme-a);
  box-shadow:0 0 0 2px var(--theme-a, orange);
  outline:none;
}

/* CTA button */
.product-page .buy-actions .cta{
  background:var(--theme-a);
  border:1px solid var(--btn-border);
  border-radius:6px;
  color:#fff; font-weight:700; font-size:1rem;
  padding:.65rem 1rem; height:44px;
  box-shadow:none; transition:background .2s ease; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center;
  white-space:nowrap; line-height:1; min-width:0;
}
.product-page .buy-actions .cta:hover,
.product-page .buy-actions .cta:active{ background:var(--theme-a-dark); }

/* Keep Add to Cart + Qty control equal width */
.product-page .buy-actions .cta,
.product-page .qty-control{ width:100%; min-width:0; }

/* ==========================
   QTY CONTROL (glyph buttons)
========================== */
.product-page .qty-control{
  justify-self:stretch; width:100%; min-width:0;
  display:grid; grid-template-columns:var(--qty-btn-w,40px) 1fr var(--qty-btn-w,40px);
  align-items:stretch;
  border:1px solid #ccc; border-radius:6px; background:#fff;
  overflow:visible; padding:0; box-shadow:none; box-sizing:border-box; height:44px;
}
.product-page .qty-btn,
.product-page .qty-control .qty{
  border:0 !important; background:transparent; height:44px;
  margin:0; padding:0; line-height:1; font:inherit;
}
.product-page .qty-control .qty{
  width:100% !important; min-width:0 !important; text-align:center;
  font-family:'Reckless Neue', serif !important;
  font-weight:400; font-size:1.15rem; font-variant-numeric:lining-nums tabular-nums;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  display:flex; align-items:center; justify-content:center;
  appearance:textfield; -moz-appearance:textfield;
}
.product-page .qty-control .qty::-webkit-outer-spin-button,
.product-page .qty-control .qty::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }

.product-page .qty-btn{
  width:var(--qty-btn-w,40px); min-width:var(--qty-btn-w,40px);
  display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
  font-family:'Reckless Neue', serif !important; font-weight:600; font-size:1.25rem; color:#333;
  position:relative; box-sizing:border-box; z-index:0;
}
.product-page .qty-btn:first-child{ border-right:1px solid #e6e6e6; border-radius:6px 0 0 6px; }
.product-page .qty-btn:last-child { border-left: 1px solid #e6e6e6; border-radius:0 6px 6px 0; }

.product-page .qty-control:hover,
.product-page .qty-control:focus-within{
  border-color:var(--theme-a); box-shadow:0 0 0 2px var(--theme-a); position:relative; z-index:2;
}
.product-page .qty-btn:hover::before{
  content:""; position:absolute; inset:5px 4px 6px 4px; background:#ccc; border-radius:4px; pointer-events:none; z-index:-1;
}
.product-page .qty-btn:focus-visible,
.product-page .qty-control .qty:focus,
.product-page .qty-control .qty:focus-visible{ outline:none; box-shadow:none; }

/* Mobile tweaks */
@media (max-width:768px){
  .product-page .buybox{ max-width:100%; margin:0 auto 1.25rem; }
  .product-page .variant-wrap .select,
  .product-page .buy-actions .cta,
  .product-page .qty-control{ height:48px; }
  :root{ --qty-btn-w:44px; }
}

/* ===== Buybox info (full-width) ===== */
.product-page .buybox .buy-info{
  grid-column:1/-1;
  border-top:1px solid #e6e6e6;
  margin-top:1rem; padding-top:1rem;
  font-size:.95rem; color:#333;
}
.product-page .buybox .buy-info ul{ list-style:none; padding:0; margin:0; }
.product-page .buybox .buy-info li{ margin-bottom:.75rem; line-height:1.45; }
.product-page .buybox .buy-info li:last-child{ margin-bottom:0; }

/* ==========================
   REVIEWS
========================== */
.reviews-panel{
  background:#fff;
  border:1px solid #ddd;
  border-radius:12px;
  padding:1.25rem 1.25rem 1rem;
  width:100%; max-width:100%; margin:0 auto;
}
.reviews-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; margin-bottom:.25rem;
}
.reviews-title{
  font-size:1.25rem; line-height:1.2; margin:0;
  display:flex; align-items:center; gap:.5rem;
}
/* merged star styles */
.reviews-title .stars,
.review-stars{
  color:#F7931A; letter-spacing:.05em; font-size:1.05rem;
}
.review-cta{
  display:inline-flex; align-items:center; justify-content:center;
  height:44px; padding:.65rem 1rem;
  border:1px solid var(--btn-border, #2c2828);
  border-radius:6px; background:var(--theme-a, #F7931A);
  color:#fff; font-weight:700; font-size:1rem; text-decoration:none; line-height:1;
  white-space:nowrap; box-shadow:none;
  transition:background .2s ease, border-color .2s ease, transform .06s ease;
}
.review-cta:hover,
.review-cta:active{
  background:var(--theme-a-dark, #C46D13);
  border-color:var(--btn-border, #2c2828);
}
.review-cta:active{ transform:translateY(1px); }
.review-cta:focus-visible{
  outline:2px solid var(--theme-a, #F7931A); outline-offset:2px;
}
.reviews-meta{ margin:.25rem 0 .75rem; color:#555; font-size:.95rem; }

/* Cards grid */
.reviews-grid{ display:grid; grid-template-columns:repeat(12,1fr); gap:1rem; }
.review-card{
  grid-column:span 12; background:#fff; border:1px solid #e6e6e6; border-radius:10px;
  padding:1rem; box-shadow:0 1px 0 rgba(0,0,0,.03);
}
@media (min-width:720px){ .review-card{ grid-column:span 6; } }
@media (min-width:1040px){ .review-card{ grid-column:span 4; } }

.review-head{ display:flex; justify-content:space-between; align-items:center; gap:.75rem; margin-bottom:.5rem; }
.reviewer{ margin:0; font-size:1.05rem; }
.review-text{ margin:.25rem 0 .75rem; color:#222; line-height:1.55; }

/* Thumbnails */
.review-media{ display:flex; gap:.5rem; flex-wrap:wrap; }
.review-media .thumb{
  padding:0; margin:0; background:#f7f7f7; border:1px solid #e6e6e6; border-radius:8px;
  width:72px; height:72px; overflow:hidden; cursor:pointer; line-height:0;
}
.review-media .thumb img{
  width:100%; height:100%; object-fit:cover; display:block; cursor:zoom-in;
}
.review-media .thumb:hover{ outline:2px solid #F7931A; }

/* --- Mobile reviews header order --- */
@media (max-width:560px){
  .reviews-panel{
    display:grid; grid-template-columns:1fr;
    grid-template-areas:"title" "meta" "cta";
    grid-row-gap:.5rem;
  }
  .reviews-header{ display:contents !important; }
  .reviews-title{ grid-area:title; }
  .reviews-meta { grid-area:meta; margin:.15rem 0 .25rem; }
  .review-cta  { grid-area:cta; width:100%; }
}

/* ==========================
   FULLSCREEN LIGHTBOX (hero)
   (kept so you can enable hero zoom later)
========================== */
#lightbox{
  position:fixed; inset:0; background:rgba(0,0,0,.92);
  display:grid; place-items:center;
  opacity:0; visibility:hidden; transition:opacity .2s ease, visibility .2s ease;
  z-index:10000;
}
#lightbox[aria-hidden="false"]{ opacity:1; visibility:visible; }
#lightbox-img{
  max-width:92vw; max-height:90vh; object-fit:contain; display:block;
  border-radius:10px; box-shadow:0 16px 36px rgba(0,0,0,.6);
}

/* ===== Minimal theme overrides ===== */
.product-page .buybar{ display:none !important; }

/* ===== Optional: keep details + buybox same width (desktop only) ===== */
@media (min-width:1025px){
  .product-page .left-col .card,
  .product-page .buybox{ width:100%; max-width:380px; }
}

/* Product header subtitle underline */
.product-header .subtitle{
  display:inline-block; position:relative;
  font-family:'Satoshi',sans-serif; font-size:1.1rem; color:#555;
  margin:.5rem 0 0; text-align:center;
}
.product-header .subtitle::after{
  content:""; display:block; height:3px; background:var(--theme-a);
  margin:.4rem auto 0; width:100%; border-radius:2px;
}

/* ==========================
   REVIEW LIGHTBOX â€” stable center
========================== */
#review-lightbox{
  position:fixed; inset:0; display:none;
  background:rgba(0,0,0,.92); z-index:200000;
  padding:24px; box-sizing:border-box;
}
#review-lightbox.open{
  display:flex !important; align-items:center; justify-content:center;
}
#review-lightbox img{
  position:static !important; transform:none !important; inset:auto !important; margin:0 !important;
  display:block; max-width:100%; max-height:100%; width:auto; height:auto;
  object-fit:contain; object-position:center;
  border-radius:8px; box-shadow:0 0 36px rgba(0,0,0,.5); cursor:zoom-out;
}
/* close via img/backdrop/Esc only */
#review-lightbox .rlb-close{ display:none !important; }

/* lock page + hide any other lightbox/hints while open */
body.rlb-open{ overflow:hidden; overscroll-behavior:contain; }
body.rlb-open #lightbox,
body.rlb-open #lightbox *,
body.rlb-open .lightbox-close,
body.rlb-open .lightbox__close,
body.rlb-open .mfp-wrap,
body.rlb-open .mfp-bg,
body.rlb-open .mfp-container,
body.rlb-open .pswp,
body.rlb-open .lg-backdrop,
body.rlb-open .lg-outer,
body.rlb-open .glightbox-container,
body.rlb-open .lightbox-hint,
body.rlb-open .zoom-hint,
body.rlb-open .hero-hint,
body.rlb-open .image-hint,
body.rlb-open .review-hint,
body.rlb-open :is([aria-label*="close" i],[title*="close" i],[data-testid*="close" i],[class*="close"],[id*="close"],[class*="hint"]){
  display:none !important;
}

/* ==========================
   ZOOM OVERLAY (hero alt)
========================== */
#zoom-overlay{
  position:fixed; inset:0;
  background:#171515;
  background-image:linear-gradient(180deg,#2c2828 0%,#171515 100%);
  display:none; align-items:center; justify-content:center;
  padding:0; z-index:10050; overscroll-behavior:contain;
}
#zoom-overlay.open{ display:flex; }
#zoom-overlay img{
  max-width:min(96vw, 1800px);
  max-height:92vh; object-fit:contain;
  box-shadow:none; background:transparent; border:0; border-radius:0;
}
/* Lock page completely while open (no white edge) */
body.zoom-locked{ position:fixed; width:100%; left:0; right:0; }
/* Hide any leftover close control just in case */
#zoom-overlay .close{ display:none !important; }
/* shared cursor */
#zoom-overlay img, #lightbox-img{ cursor:zoom-out; }

body.zoom-locked :is([class*="close"], [aria-label*="close" i], [title*="close" i]){
  display:none !important;
}

/* ===== Desktop (â‰¥1301px): keep 3-col + centered ===== */
@media (min-width:1301px){
  .product-page .grid{
    --hero-max: 550px;
    grid-template-columns: var(--side) minmax(var(--hero-min,520px), 1fr) var(--side);
    grid-template-areas:
      "header header header"
      "left   hero   buybox"
      "bottom bottom bottom";
    max-width: calc(var(--side) * 2 + var(--hero-max) + var(--g) * 2);
  }
  .product-page .hero-frame{
    max-width: min(var(--hero-max,550px), 56vw);
    margin-inline: auto;
  }
}

/* ===== Tablet/Phone (â‰¤1300px): force single column + cap hero only ===== */
@media (max-width:1300px){
  .product-page .grid{
    grid-template-columns:1fr !important;
    grid-template-areas:
      "header"
      "hero"
      "buybox"
      "left"
      "bottom" !important;
    max-width:none; width:100%;
    padding-inline:1rem;
  }
  .product-page .hero-frame{
    width:100%; max-width:500px; margin-inline:auto;
  }
  .product-page .buybox,
  .product-page .left-col .card,
  .product-page .reviews-panel{
    max-width:none; width:100%; margin-inline:auto;
  }
  .product-page .grid{ --side:auto; }
}

/* ===== Toast anchored above CTA ===== */
.product-page .buybox{ position:relative; overflow:visible; }
.product-page #cart-toast{
  position:absolute !important; top:-9999px; left:0; width:auto;
  padding:.6rem .8rem;
  background:var(--theme-a,#F7931A); color:#fff;
  border:1px solid var(--btn-border,#2c2828);
  border-radius:8px; box-shadow:0 8px 18px rgba(0,0,0,.18);
  font-size:.95rem; line-height:1.2; text-align:center;
  pointer-events:none; z-index:120;
  opacity:0; transform:translateY(6px);
  transition:opacity .18s ease, transform .18s ease;
}
.product-page #cart-toast.is-showing{ opacity:1; transform:none; }
.product-page #cart-toast::after{
  content:""; position:absolute; top:100%; left:50%; transform:translateX(-50%);
  border:6px solid transparent; border-top-color:var(--theme-a,#F7931A);
  filter:drop-shadow(0 2px 0 var(--btn-border,#2c2828));
}
