/* ==========================
   PRODUCT PAGE — SCOPED (clean)
========================== */

/* A11y hide */
.product-page .sr-only{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px;
  overflow:hidden; white-space:nowrap;
}

/* ---- Layout grid with areas ---- */
.product-page .grid{
  display:grid;
  grid-template-columns:
    clamp(240px, 20vw, 320px)      /* left details */
    minmax(520px, 1fr)             /* hero */
    clamp(280px, 22vw, 380px);     /* buy box */
  row-gap:2rem; column-gap:2rem;
  max-width:1200px;
  margin:calc(var(--nav-h,64px) + 1.5rem) auto 2.5rem;
  padding:0 1rem;
  grid-template-areas:
    ". header ."
    "left hero buybox"
    "bottom bottom bottom";
  align-items:start;
}
.product-page .center-col{ display:contents; }
.product-page .product-header{ grid-area:header; text-align:center; margin-bottom:.75rem; }
.product-page .left-col{ grid-area:left; align-self:start; }
.product-page .hero{ grid-area:hero; margin-top:0; }
.product-page .buybox{ grid-area:buybox; }
.product-page #reviews-bottom{ grid-area:bottom; }

@media (max-width:1024px){
  .product-page .grid{
    grid-template-columns:1fr;
    row-gap:1.25rem;
    grid-template-areas:
      "header"
      "hero"
      "buybox"
      "left"
      "bottom";
  }
}

/* ---- Side cards (details) ---- */
.product-page .card{
  background:#fff;
  border:1px solid #ccc;
  border-radius:8px;
  padding:1rem;
  box-shadow:none;
}
.product-page .bullets{ list-style:disc; padding-left:1.2rem; }
.product-page .bullets li{ margin:.5rem 0; }

/* ---- Header polish ---- */
.product-page .product-title{ font-size:2.4rem; line-height:1.15; }
.product-page .subtitle{ color:#666; }
.product-page .title-rule{
  border:0; border-top:3px solid var(--theme-a);
  width:72px; margin:.55rem auto 0; border-radius:3px;
}

/* ==========================
   GALLERY
========================== */
.product-page .hero{
  position:relative;
  margin:0 0 1rem;
  background:transparent;
  border-radius:0;                   /* radius lives on frame */
  overflow:hidden;
  line-height:0;
  min-width:0;
}
.product-page .hero-frame{
  position:relative;
  aspect-ratio:1 / 1;
  width:100%; max-width:100%;
  overflow:hidden;
  border-radius:12px;
  background:transparent;
  transform:translateZ(0);
  box-shadow:0 12px 28px rgba(0,0,0,.10);
}
.product-page #hero-img{
  position:absolute;
  inset:-0.5px;                      /* 1px bleed to avoid seams */
  width:calc(100% + 1px);
  height:calc(100% + 1px);
  object-fit:cover;
  display:block;
  background:transparent;
  border:0;
}

/* Arrows */
.product-page .hero-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  width:42px; height:42px; border:0; border-radius:999px;
  display:grid; place-items:center;
  background:rgba(0,0,0,.55); color:#fff; cursor:pointer;
  box-shadow:0 8px 18px rgba(0,0,0,.28);
  transition:background .2s, transform .08s;
}
.product-page .hero-nav:hover{ background:rgba(0,0,0,.75); }
.product-page .hero-nav:active{ transform:translateY(-50%) scale(.98); }
.product-page .hero-nav.prev{ left:.65rem; }
.product-page .hero-nav.next{ right:.65rem; }
.product-page .hero-nav svg{ width:22px; height:22px; fill:currentColor; }
@media (max-width:768px){
  .product-page .hero-nav{ width:48px; height:48px; }
}

/* Dots */
.product-page .hero-dots{
  display:flex; justify-content:center; gap:.5rem;
  background:transparent; padding:.35rem 0 .5rem;
}
.product-page .hero-dots:empty{ display:none; }
.product-page .hero-dots button{
  width:10px; height:10px; border-radius:999px; border:0; cursor:pointer;
  background:#d3d3d3; transition:transform .12s, background .15s;
}
.product-page .hero-dots button[aria-selected="true"]{
  background:var(--theme-a); transform:scale(1.15);
}
.product-page .hero-dots button:focus-visible{
  outline:2px solid var(--theme-a); outline-offset:2px;
}

/* ==========================
   BUYBOX (flat + consistent)
========================== */
.product-page .buybox{
  display:grid;
  grid-template-columns:1fr 1fr;
  grid-template-areas:
    "price cta"
    "variant qty";
  gap:0.85rem;
  align-items:center; justify-items:stretch; text-align:left;
  background:#fff; border:1px solid #ccc; border-radius:8px;
  padding:1rem;
  box-shadow:none;
  max-width:820px;
  margin:0 auto 2.25rem;
  align-self:start;
}

/* areas */
.product-page .price-wrap{
  grid-area:price;
  justify-self:center;
  text-align:center;
  width:100%;
}
.product-page .buy-actions{ grid-area:cta; margin:0; display:flex; }
.product-page .variant-wrap{ grid-area:variant; }
.product-page .qty-control{ grid-area:qty; display:flex; }

/* text bits */
/* Force Reckless Neue on product price */
.product-page .buybox .price {
  font-family: 'Reckless Neue', serif !important;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--theme-b);
  line-height: 1.2;
}
.product-page .buybox .meta{ color:#666; font-size:.95rem; }

/* controls (select/input) */
.product-page .select,
.product-page .input{
  padding:.65rem .9rem; border:1px solid #ccc; border-radius:6px; font:inherit; height:44px;
}
.product-page .variant-wrap .select,
.product-page .buy-actions .cta{ width:100%; }

/* CTA button — solid brand orange */
.product-page .buy-actions .cta{
  background:var(--theme-a);
  border:1px solid var(--btn-border);
  border-radius:6px;
  color:#fff; font-weight:700; font-size:1rem;
  padding:.65rem 1rem; min-height:44px;
  box-shadow:none; transition:background .2s ease;
  cursor:pointer;
}
.product-page .buy-actions .cta:hover,
.product-page .buy-actions .cta:active{ background:var(--theme-a-dark); }

/* Keep Add to Cart + Qty control equal width */
.product-page .buy-actions .cta,
.product-page .qty-control {
  width: 100%;
  min-width: 0;
}
.product-page .buy-actions,
.product-page .qty-control {
  display: flex;
  justify-content: stretch;
}
.product-page .qty-control .qty,
.product-page .qty-control .qty-btn {
  flex: 1;
}

/* ==========================
   QTY CONTROL (match shop/cart + Reckless Neue count)
========================== */
.product-page .qty-control{
  display:inline-flex; align-items:stretch; gap:0; padding:0;
  background:transparent; border:0;
}
.product-page .qty-btn,
.product-page .qty-control .qty{
  height:44px; border:1px solid #ccc;
  background:#f8f8f8; transition:background .2s, border-color .2s;
  font:inherit; line-height:1; padding:0; margin:0;
}
.product-page .qty-control .qty{
  width:90px; min-width:90px;         /* wider number box */
  background:#fff;
  text-align:center;
  border-radius:0;
  appearance:textfield; -moz-appearance:textfield;
  font-family:'Reckless Neue', serif !important;
  font-weight:400; font-size:1.15rem; line-height:1.2;
  font-variant-numeric: lining-nums tabular-nums;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;

  display:flex; align-items:center; justify-content:center;
}
.product-page .qty-btn{
  width:44px; min-width:44px;        /* slimmer side buttons */
}
.product-page .qty-control .qty::-webkit-outer-spin-button,
.product-page .qty-control .qty::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
.product-page .qty-control > * + *{ margin-left:-1px; }
.product-page .qty-control [data-action="dec"],
.product-page .qty-btn:first-child{ border-radius:6px 0 0 6px; }
.product-page .qty-control [data-action="inc"],
.product-page .qty-btn:last-child { border-radius:0 6px 6px 0; }
.product-page .qty-btn:hover,
.product-page .qty-control .qty:hover{ border-color:var(--theme-a); background:#eee; }
.product-page .qty-control .qty:hover{ background:#fff; z-index:2; position:relative; }
.product-page .qty-btn:focus-visible,
.product-page .qty-control .qty:focus-visible{
  outline:none; box-shadow:0 0 0 2px var(--theme-a); position:relative; z-index:2;
}
.product-page .qty-btn svg{ width:16px; height:16px; fill:#333; }

/* Mobile tweaks */
@media (max-width:768px){
  .product-page .buybox{
    grid-template-columns:1fr 1fr;
    grid-template-areas:
      "price cta"
      "variant qty";
    max-width:100%;
    margin:0 auto 1.25rem;
  }
  .product-page .variant-wrap .select,
  .product-page .buy-actions .cta,
  .product-page .qty-control .qty,
  .product-page .qty-btn{ height:48px; }
}

/* ===== Buybox info section (full-width) ===== */
.product-page .buybox .buy-info{
  grid-column:1 / -1;
  border-top:1px solid #e6e6e6;
  margin-top:1rem;
  padding-top:1rem;
  font-size:.95rem;
  color:#333;
}
.product-page .buybox .buy-info ul{
  list-style:none; padding:0; margin:0;
}
.product-page .buybox .buy-info li{
  margin-bottom:.75rem; line-height:1.45;
}
.product-page .buybox .buy-info li:last-child{ margin-bottom:0; }

/* ==========================
   REVIEWS
========================== */
.product-page .reviews-panel{
  background:#fff;
  border:1px solid #ccc;
  border-radius:8px;
  box-shadow:none;
  padding:1rem;
  width:100%;
  max-width:100%;
  margin:0 auto;
}
.product-page .reviews-panel .stars{ color:#f4c84a; }
.product-page .reviews-panel .bullets li{ font-style:italic; }

/* ==========================
   FULLSCREEN LIGHTBOX
========================== */
#lightbox{
  position:fixed; inset:0;
  background:rgba(0,0,0,.92);
  display:grid; place-items:center;
  opacity:0; visibility:hidden;
  transition:opacity .2s ease, visibility .2s ease;
  z-index:10000;
}
#lightbox[aria-hidden="false"]{ opacity:1; visibility:visible; }
#lightbox-img{
  max-width:92vw; max-height:90vh; object-fit:contain; display:block;
  border-radius:10px; box-shadow:0 16px 36px rgba(0,0,0,.6);
}

/* ===== Minimal theme overrides ===== */
.product-page .buybar{ display:none !important; }
.product-page .hero{
  align-self:start !important;
  margin-top:0 !important; padding-top:0 !important; min-height:0 !important;
  background:transparent !important;
}
.product-page .hero::before{ content:none !important; }

/* ===== Optional: keep details + buybox same width ===== */
@media (min-width:1025px){
  .product-page .left-col .card,
  .product-page .buybox{
    width:100%;
    max-width:380px;
  }
}
@media (max-width:1024px){
  .product-page .left-col .card,
  .product-page .buybox{ max-width:100%; }
}
.product-header .subtitle {
  display: inline-block;
  position: relative;
  font-family: 'Satoshi', sans-serif;
  font-size: 1.1rem;
  color: #555;
  margin: 0.5rem 0 0;
  text-align: center;
}
.product-header .subtitle::after {
  content: "";
  display: block;
  height: 3px;
  background: var(--theme-a);
  margin: 0.4rem auto 0;
  width: 100%;
  border-radius: 2px;
}
/* ===== Full-width framed qty that matches CTA/Select width ===== */

/* 1) The grid item itself fills the track exactly like the CTA/select */
.product-page .qty-control{
  grid-area: qty;
  justify-self: stretch;       /* belt-and-suspenders */
  width: 100%;
  min-width: 0;

  /* Make the outer group the "box" so its width = CTA/select width */
  display: grid;
  grid-template-columns: var(--qty-btn-w,40px) 1fr var(--qty-btn-w,40px);
  align-items: stretch;

  border: 1px solid #ccc;
  border-radius: 6px;
  background: #fff;
  overflow: hidden;            /* clip inner edges cleanly */
  padding: 0;                  /* ensure exact width parity */
  box-shadow: none;
  box-sizing: border-box;
}

/* 2) Inner pieces are borderless; middle input expands to fill */
.product-page .qty-btn,
.product-page .qty-control .qty{
  border: 0 !important;        /* remove inner borders */
  background: transparent;
  height: 44px;
  margin: 0;
  padding: 0;
  line-height: 1;
  font: inherit;
  flex: 0 0 auto;              /* no flex growth/shrink overrides */
}

/* Middle number field centers and stretches */
.product-page .qty-control .qty{
  width: 100% !important;      /* fill the 1fr track */
  min-width: 0 !important;
  text-align: center;

  font-family:'Reckless Neue', serif !important;
  font-weight: 400;
  font-size: 1.15rem;
  font-variant-numeric: lining-nums tabular-nums;

  display: flex;
  align-items: center;
  justify-content: center;

  appearance: textfield; -moz-appearance: textfield;
}
.product-page .qty-control .qty::-webkit-outer-spin-button,
.product-page .qty-control .qty::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }

/* Buttons fixed width; add subtle separators via left borders */
.product-page .qty-btn{
  width: var(--qty-btn-w,40px);
  min-width: var(--qty-btn-w,40px);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.product-page .qty-btn:first-child{ border-right: 1px solid #e6e6e6; }
.product-page .qty-btn:last-child { border-left:  1px solid #e6e6e6; }

/* Hover/focus states (on the outer frame for consistency) */
.product-page .qty-control:hover{ border-color: var(--theme-a); }
.product-page .qty-btn:focus-visible,
.product-page .qty-control .qty:focus-visible{
  outline: none;
  box-shadow: inset 0 0 0 2px var(--theme-a);
}

/* Match component heights with CTA/select */
.product-page .select,
.product-page .input,
.product-page .buy-actions .cta,
.product-page .qty-control { height: 44px; }

/* Mobile: larger touch targets (keeps exact width parity) */
@media (max-width:768px){
  :root{ --qty-btn-w: 44px; }
  .product-page .qty-control,
  .product-page .select,
  .product-page .input,
  .product-page .buy-actions .cta { height: 48px; }
}

/* IMPORTANT: kill the old equal-thirds rule if it exists anywhere above */
.product-page .qty-control .qty,
.product-page .qty-control .qty-btn{ flex: 0 0 auto !important; }
/* Keep "Add to Cart" on one line and centered */
.product-page .buy-actions { 
  display: flex; 
  min-width: 0;               /* allow the child to shrink without weird wrapping */
}

.product-page .buy-actions .cta{
  display: inline-flex;       /* center text vertically/horizontally */
  align-items: center;
  justify-content: center;
  white-space: nowrap;        /* <-- no wrapping */
  line-height: 1;             /* avoid tall text metrics causing wrap */
  height: 44px;               /* match components */
  padding: 0 1rem;            /* horizontal breathing room */
  min-width: 0;               /* allow shrink within grid column */
}

@media (max-width:768px){
  .product-page .buy-actions .cta{ height: 48px; }
}
